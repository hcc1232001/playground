(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t,a){var n={"./animatingLines":[35,9],"./animatingLines.js":[35,9],"./createGame":[51,9],"./createGame.js":[51,9],"./custom-inputbox.css":[80,7],"./fbxViewer":[22,9],"./fbxViewer.css":[29,7],"./fbxViewer.js":[22,9],"./homePage":[38,9],"./homePage.css":[77,7],"./homePage.js":[38,9],"./indexPage":[33,9],"./indexPage.js":[33,9],"./joinGame":[37,9],"./joinGame.js":[37,9],"./jsonViewer":[32,9],"./jsonViewer.js":[32,9],"./kitchenViewer":[23,9],"./kitchenViewer.css":[76,7],"./kitchenViewer.js":[23,9],"./svgAnimator":[36,9],"./svgAnimator.css":[79,7],"./svgAnimator.js":[36,9],"./touchTable":[39,9],"./touchTable.css":[78,7],"./touchTable.js":[39,9],"./touchTableViewer":[34,9],"./touchTableViewer.js":[34,9],"./typhoonViewer":[31,9],"./typhoonViewer.js":[31,9]};function i(e){return Promise.resolve().then(function(){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}var i=n[e],r=i[0];return a.t(r,i[1])})}i.keys=function(){return Object.keys(n)},i.id=100,e.exports=i},101:function(e,t,a){},130:function(e,t){},15:function(e,t,a){var n=a(0);n.OrbitControls=function(e,t){this.object=e,this.domElement=void 0!==t?t:document,this.enabled=!0,this.target=new n.Vector3,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.25,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!1,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={LEFT:n.MOUSE.LEFT,MIDDLE:n.MOUSE.MIDDLE,RIGHT:n.MOUSE.RIGHT},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=function(){return u.phi},this.getAzimuthalAngle=function(){return u.theta},this.saveState=function(){a.target0.copy(a.target),a.position0.copy(a.object.position),a.zoom0=a.object.zoom},this.reset=function(){a.target.copy(a.target0),a.object.position.copy(a.position0),a.object.zoom=a.zoom0,a.object.updateProjectionMatrix(),a.dispatchEvent(i),a.update(),l=s.NONE},this.update=function(){var t=new n.Vector3,r=(new n.Quaternion).setFromUnitVectors(e.up,new n.Vector3(0,1,0)),o=r.clone().inverse(),p=new n.Vector3,v=new n.Quaternion;return function(){var e=a.object.position;return t.copy(e).sub(a.target),t.applyQuaternion(r),u.setFromVector3(t),a.autoRotate&&l===s.NONE&&O(2*Math.PI/60/60*a.autoRotateSpeed),u.theta+=m.theta,u.phi+=m.phi,u.theta=Math.max(a.minAzimuthAngle,Math.min(a.maxAzimuthAngle,u.theta)),u.phi=Math.max(a.minPolarAngle,Math.min(a.maxPolarAngle,u.phi)),u.makeSafe(),u.radius*=d,u.radius=Math.max(a.minDistance,Math.min(a.maxDistance,u.radius)),a.target.add(f),t.setFromSpherical(u),t.applyQuaternion(o),e.copy(a.target).add(t),a.object.lookAt(a.target),!0===a.enableDamping?(m.theta*=1-a.dampingFactor,m.phi*=1-a.dampingFactor,f.multiplyScalar(1-a.dampingFactor)):(m.set(0,0,0),f.set(0,0,0)),d=1,!!(h||p.distanceToSquared(a.object.position)>c||8*(1-v.dot(a.object.quaternion))>c)&&(a.dispatchEvent(i),p.copy(a.object.position),v.copy(a.object.quaternion),h=!1,!0)}}(),this.dispose=function(){a.domElement.removeEventListener("contextmenu",I,!1),a.domElement.removeEventListener("mousedown",A,!1),a.domElement.removeEventListener("wheel",L,!1),a.domElement.removeEventListener("touchstart",B,!1),a.domElement.removeEventListener("touchend",U,!1),a.domElement.removeEventListener("touchmove",V,!1),document.removeEventListener("mousemove",F,!1),document.removeEventListener("mouseup",_,!1),window.removeEventListener("keydown",k,!1)};var a=this,i={type:"change"},r={type:"start"},o={type:"end"},s={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY_PAN:4},l=s.NONE,c=1e-6,u=new n.Spherical,m=new n.Spherical,d=1,f=new n.Vector3,h=!1,p=new n.Vector2,v=new n.Vector2,g=new n.Vector2,b=new n.Vector2,E=new n.Vector2,w=new n.Vector2,y=new n.Vector2,C=new n.Vector2,S=new n.Vector2;function x(){return Math.pow(.95,a.zoomSpeed)}function O(e){m.theta-=e}function j(e){m.phi-=e}var M=function(){var e=new n.Vector3;return function(t,a){e.setFromMatrixColumn(a,0),e.multiplyScalar(-t),f.add(e)}}(),T=function(){var e=new n.Vector3;return function(t,n){!0===a.screenSpacePanning?e.setFromMatrixColumn(n,1):(e.setFromMatrixColumn(n,0),e.crossVectors(a.object.up,e)),e.multiplyScalar(t),f.add(e)}}(),P=function(){var e=new n.Vector3;return function(t,n){var i=a.domElement===document?a.domElement.body:a.domElement;if(a.object.isPerspectiveCamera){var r=a.object.position;e.copy(r).sub(a.target);var o=e.length();o*=Math.tan(a.object.fov/2*Math.PI/180),M(2*t*o/i.clientHeight,a.object.matrix),T(2*n*o/i.clientHeight,a.object.matrix)}else a.object.isOrthographicCamera?(M(t*(a.object.right-a.object.left)/a.object.zoom/i.clientWidth,a.object.matrix),T(n*(a.object.top-a.object.bottom)/a.object.zoom/i.clientHeight,a.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),a.enablePan=!1)}}();function R(e){a.object.isPerspectiveCamera?d/=e:a.object.isOrthographicCamera?(a.object.zoom=Math.max(a.minZoom,Math.min(a.maxZoom,a.object.zoom*e)),a.object.updateProjectionMatrix(),h=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),a.enableZoom=!1)}function N(e){a.object.isPerspectiveCamera?d*=e:a.object.isOrthographicCamera?(a.object.zoom=Math.max(a.minZoom,Math.min(a.maxZoom,a.object.zoom/e)),a.object.updateProjectionMatrix(),h=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),a.enableZoom=!1)}function D(e){b.set(e.clientX,e.clientY)}function A(e){if(!1!==a.enabled){switch(e.preventDefault(),a.domElement.focus?a.domElement.focus():window.focus(),e.button){case a.mouseButtons.LEFT:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===a.enablePan)return;D(e),l=s.PAN}else{if(!1===a.enableRotate)return;!function(e){p.set(e.clientX,e.clientY)}(e),l=s.ROTATE}break;case a.mouseButtons.MIDDLE:if(!1===a.enableZoom)return;!function(e){y.set(e.clientX,e.clientY)}(e),l=s.DOLLY;break;case a.mouseButtons.RIGHT:if(!1===a.enablePan)return;D(e),l=s.PAN}l!==s.NONE&&(document.addEventListener("mousemove",F,!1),document.addEventListener("mouseup",_,!1),a.dispatchEvent(r))}}function F(e){if(!1!==a.enabled)switch(e.preventDefault(),l){case s.ROTATE:if(!1===a.enableRotate)return;!function(e){v.set(e.clientX,e.clientY),g.subVectors(v,p).multiplyScalar(a.rotateSpeed);var t=a.domElement===document?a.domElement.body:a.domElement;O(2*Math.PI*g.x/t.clientHeight),j(2*Math.PI*g.y/t.clientHeight),p.copy(v),a.update()}(e);break;case s.DOLLY:if(!1===a.enableZoom)return;!function(e){C.set(e.clientX,e.clientY),S.subVectors(C,y),S.y>0?R(x()):S.y<0&&N(x()),y.copy(C),a.update()}(e);break;case s.PAN:if(!1===a.enablePan)return;!function(e){E.set(e.clientX,e.clientY),w.subVectors(E,b).multiplyScalar(a.panSpeed),P(w.x,w.y),b.copy(E),a.update()}(e)}}function _(e){!1!==a.enabled&&(document.removeEventListener("mousemove",F,!1),document.removeEventListener("mouseup",_,!1),a.dispatchEvent(o),l=s.NONE)}function L(e){!1===a.enabled||!1===a.enableZoom||l!==s.NONE&&l!==s.ROTATE||(e.preventDefault(),e.stopPropagation(),a.dispatchEvent(r),function(e){e.deltaY<0?N(x()):e.deltaY>0&&R(x()),a.update()}(e),a.dispatchEvent(o))}function k(e){!1!==a.enabled&&!1!==a.enableKeys&&!1!==a.enablePan&&function(e){var t=!1;switch(e.keyCode){case a.keys.UP:P(0,a.keyPanSpeed),t=!0;break;case a.keys.BOTTOM:P(0,-a.keyPanSpeed),t=!0;break;case a.keys.LEFT:P(a.keyPanSpeed,0),t=!0;break;case a.keys.RIGHT:P(-a.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),a.update())}(e)}function B(e){if(!1!==a.enabled){switch(e.preventDefault(),e.touches.length){case 2:if(!1===a.enableRotate)return;!function(e){p.set(e.touches[0].pageX,e.touches[0].pageY)}(e),l=s.TOUCH_ROTATE;break;case 1:if(!1===a.enableZoom&&!1===a.enablePan)return;!function(e){if(a.enableZoom){var t=e.touches[0].pageX,n=e.touches[0].pageY,i=Math.sqrt(t*t+n*n);y.set(0,i)}if(a.enablePan){var r=.5*e.touches[0].pageX,o=.5*e.touches[0].pageY;b.set(r,o)}}(e),l=s.TOUCH_DOLLY_PAN;break;default:l=s.NONE}l!==s.NONE&&a.dispatchEvent(r)}}function V(e){if(!1!==a.enabled)switch(e.preventDefault(),e.stopPropagation(),e.touches.length){case 2:if(!1===a.enableRotate)return;if(l!==s.TOUCH_ROTATE)return;!function(e){v.set(e.touches[0].pageX,e.touches[0].pageY),g.subVectors(v,p).multiplyScalar(a.rotateSpeed);var t=a.domElement===document?a.domElement.body:a.domElement;O(2*Math.PI*g.x/t.clientHeight),j(2*Math.PI*g.y/t.clientHeight),p.copy(v),a.update()}(e);break;case 1:if(!1===a.enableZoom&&!1===a.enablePan)return;if(l!==s.TOUCH_DOLLY_PAN)return;!function(e){if(a.enableZoom){var t=e.touches[0].pageX,n=e.touches[0].pageY,i=Math.sqrt(t*t+n*n);C.set(0,i),S.set(0,Math.pow(C.y/y.y,a.zoomSpeed)),R(S.y),y.copy(C)}if(a.enablePan){var r=.5*e.touches[0].pageX,o=.5*e.touches[0].pageY;E.set(r,o),w.subVectors(E,b).multiplyScalar(a.panSpeed),P(w.x,w.y),b.copy(E)}a.update()}(e);break;default:l=s.NONE}}function U(e){!1!==a.enabled&&(a.dispatchEvent(o),l=s.NONE)}function I(e){!1!==a.enabled&&e.preventDefault()}a.domElement.addEventListener("contextmenu",I,!1),a.domElement.addEventListener("mousedown",A,!1),a.domElement.addEventListener("wheel",L,!1),a.domElement.addEventListener("touchstart",B,!1),a.domElement.addEventListener("touchend",U,!1),a.domElement.addEventListener("touchmove",V,!1),window.addEventListener("keydown",k,!1),this.update()},n.OrbitControls.prototype=Object.create(n.EventDispatcher.prototype),n.OrbitControls.prototype.constructor=n.OrbitControls,Object.defineProperties(n.OrbitControls.prototype,{center:{get:function(){return console.warn("THREE.OrbitControls: .center has been renamed to .target"),this.target}},noZoom:{get:function(){return console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),!this.enableZoom},set:function(e){console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),this.enableZoom=!e}},noRotate:{get:function(){return console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),!this.enableRotate},set:function(e){console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),this.enableRotate=!e}},noPan:{get:function(){return console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),!this.enablePan},set:function(e){console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),this.enablePan=!e}},noKeys:{get:function(){return console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),!this.enableKeys},set:function(e){console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),this.enableKeys=!e}},staticMoving:{get:function(){return console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),!this.enableDamping},set:function(e){console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),this.enableDamping=!e}},dynamicDampingFactor:{get:function(){return console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor},set:function(e){console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor=e}}}),e.exports=t.default=n.OrbitControls},156:function(e,t,a){e.exports=a.p+"static/media/190717_frying pan animationA_flip.76c68fdb.fbx"},157:function(e,t,a){e.exports=a.p+"static/media/190717_frying pan animationB_shake.39143745.fbx"},158:function(e,t,a){e.exports=a.p+"static/media/190717_frying pan animationB_flip.73bcd93e.fbx"},159:function(e,t,a){e.exports=a.p+"static/media/190717_frying pan animationC_shake.642bef3e.fbx"},160:function(e,t,a){e.exports=a.p+"static/media/190717_frying pan animationC_flip.e5174b4e.fbx"},163:function(e,t,a){},165:function(e,t,a){"use strict";a.r(t);var n=a(1),i=a.n(n),r=a(81),o=a.n(r),s=(a(97),a(7)),l=a(11);a(82);var c=a(8),u=(a(101),a(37)),m=a(38),d=a(22),f=a(31),h=a(32),p=a(23),v=a(33),g=a(34),b=a(39),E=a(35),w=a(36),y={joinGame:u.default,homePage:m.default,fbxViewer:d.default,typhoonViewer:f.default,jsonViewer:h.default,kitchenViewer:p.default,indexPage:v.default,touchTableViewer:g.default,touchTable:b.default,animatingLines:E.default,svgAnimator:w.default},C=function(e){var t=y[e];return function(e){return i.a.createElement(t,{match:e})}},S=function(){return i.a.createElement(s.a,null,i.a.createElement(l.d,null,i.a.createElement(l.b,{path:c.a.typhoonViewer,render:C("typhoonViewer")}),i.a.createElement(l.a,{to:"/webmb"})))};o.a.render(i.a.createElement(S,null),document.getElementById("main"))},21:function(e,t,a){"use strict";a.d(t,"a",function(){return n}),a.d(t,"b",function(){return i});var n="https://socketio-testing.herokuapp.com",i=443},22:function(e,t,a){"use strict";a.r(t);var n=a(10),i=a(3),r=a(1),o=a.n(r),s=a(11),l=a(0),c=a(15),u=a.n(c),m=a(43);a(29);t.default=function(e){var t=Object(r.useState)({scene:null,camera:null,containerEl:null,renderer:null,orbitControl:null,raycaster:null,clock:null,mixer:null}),a=Object(i.a)(t,2),c=a[0],d=a[1],f=Object(r.useState)([0,0,-10]),h=Object(i.a)(f,2),p=h[0],v=h[1],g=Object(s.h)().fbxName;console.log(g);var b=null,E=null,w=function(){var e=new l.Scene;e.background=new l.Color(4210752);var t=new l.PerspectiveCamera(50,b.offsetWidth/b.offsetHeight,.1,1e4);t.lookAt(0,0,0),t.updateProjectionMatrix();var a=new l.WebGLRenderer({antialias:!0,alpha:!0});a.setPixelRatio(window.devicePixelRatio),a.setSize(b.offsetWidth,b.offsetHeight),a.setClearColor(13421772,0),b.appendChild(a.domElement),a.shadowMap.enabled=!0,a.shadowMap.type=l.PCFSoftShadowMap;var i=new u.a(t,a.domElement),r=new l.Raycaster(t.position,new l.Vector3(0,0,0),0,2*i.maxDistance),o=new l.Clock,s=new m.a,c=null;s.load("./media/fbx/".concat(g,".fbx"),function(a){c=new l.AnimationMixer(a);var i=null;a.animations.length&&(i=c.clipAction(a.animations[0])).play();var r=a.getObjectByName("Camera");r?(v([r.position.x,r.position.y,r.position.z]),t.position.set(r.position.x,r.position.y,r.position.z)):t.position.set(p[0],p[1],p[2]);for(var o="a".charCodeAt(0);o<="z".charCodeAt(0);o++){var s=String.fromCharCode(o),u=a.getObjectByName("video".concat(s),!0);u&&function(){var e=document.createElement("video");e.oncanplay=function(){e.play()},e.muted=!0,e.loop=!0,e.autoplay=!0,e.src="./media/fbx/video".concat(s,".mp4");var t=new l.VideoTexture(e);t.minFilter=l.LinearFilter,t.magFilter=l.LinearFilter,t.format=l.RGBFormat,u.material.map=t}()}var m=a.getObjectByName("one",!0);if(m){var f=document.createElement("video");f.oncanplay=function(){f.play()},f.muted=!0,f.loop=!0,f.autoplay=!0,f.src="./media/fbx/One.mp4";var h=new l.VideoTexture(f);h.minFilter=l.LinearFilter,h.magFilter=l.LinearFilter,h.format=l.RGBFormat,m.material.displacementMap=h,m.material.displacementScale=10}var b=a.getObjectByName("two",!0);if(b){var E=document.createElement("video");E.oncanplay=function(){E.play()},E.muted=!0,E.loop=!0,E.autoplay=!0,E.src="./media/fbx/Two.mp4";var w=new l.VideoTexture(E);w.minFilter=l.LinearFilter,w.magFilter=l.LinearFilter,w.format=l.RGBFormat,b.material.displacementMap=w,b.material.displacementScale=10}var y=a.getObjectByName("three",!0);if(y){var C=document.createElement("video");C.oncanplay=function(){C.play()},C.muted=!0,C.loop=!0,C.autoplay=!0,C.src="./media/fbx/Three.mp4";var S=new l.VideoTexture(C);S.minFilter=l.LinearFilter,S.magFilter=l.LinearFilter,S.format=l.RGBFormat,y.material.displacementMap=S,y.material.displacementScale=10,window.testEl=y}var x=a.getObjectByName("four",!0);if(x){var O=document.createElement("video");O.oncanplay=function(){O.play()},O.muted=!0,O.loop=!0,O.autoplay=!0,O.src="./media/fbx/Four.mp4";var j=new l.VideoTexture(O);j.minFilter=l.LinearFilter,j.magFilter=l.LinearFilter,j.format=l.RGBFormat,x.material.displacementMap=j,x.material.displacementScale=10}var M=a.getObjectByName("Hand",!0);if(M){var T=document.createElement("video");T.oncanplay=function(){T.play()},T.muted=!0,T.loop=!0,T.autoplay=!0,T.src="./media/fbx/Stone to gold.mp4";var P=new l.VideoTexture(T);P.minFilter=l.LinearFilter,P.magFilter=l.LinearFilter,P.format=l.RGBFormat,M.material=new l.MeshBasicMaterial({map:P})}!function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;["Robot_Hand_1","Hand"].includes(t.name)||(t.children.forEach(function(t){e(t,a+1)}),t.isMesh&&(t.material.color=new l.Color(.9098039216,.062745098,.678431373)))}(a),function(e,t){e.traverse(function(e){e.isMesh&&(e.material.side=l.FrontSide,e.material.needsUpdate=!0,e.castShadow=!0,e.receiveShadow=!0)})}(a);var R=a.getObjectByName("Robot_Hand_1",!0);R&&function(e){e.traverse(function(e){e.isMesh&&(e.castShadow=!1,e.receiveShadow=!0)})}(R);var N=a.getObjectByName("bbb",!0);if(N){var D=(new l.TextureLoader).load("./media/fbx/Color.jpg");N.material.emissiveMap=D,N.material.emissive=new l.Color(1,1,1),N.material.map=D,N.material.color=new l.Color(1,1,1)}var A=a.children[0],F=(new l.TextureLoader).load("./media/fbx/".concat(g,".jpg"));switch(A.material=new l.MeshBasicMaterial,A.material.map=F,A.material.color=new l.Color(1,1,1),g){case"Fluorite":case"FluoriteD":case"FluoriteH":a.position.set(0,0,18);break;case"FossilizedFish":case"FossilizedFishD":case"FossilizedFishH":a.position.set(0,0,9);break;case"Okenite":case"OkeniteD":case"OkeniteH":a.position.set(0,0,12);break;case"PurpuriteH":case"PurpuriteM":case"PurpuriteL":e.background=new l.Color(11529966);break;default:a.position.set(0,0,0)}e.add(a),d(function(e){return Object(n.a)({},e,{mixer:c,action:i})})},function(e){console.log(e.loaded/e.total*100+"%")},function(e){console.log(e)}),d({scene:e,camera:t,containerEl:b,renderer:a,orbitControl:i,raycaster:r,clock:o})},y=function(){c.camera.aspect=c.containerEl.offsetWidth/c.containerEl.offsetHeight,c.camera.updateProjectionMatrix(),c.renderer.setSize(c.containerEl.offsetWidth,c.containerEl.offsetHeight)};Object(r.useEffect)(function(){w()},[]),Object(r.useEffect)(function(){return window.addEventListener("resize",y),function(){window.removeEventListener("resize",y)}},[c]),Object(r.useEffect)(function(){return E&&clearTimeout(E),c.scene&&(E=setTimeout(function(){return function e(){E=requestAnimationFrame(function(){return e()});var t=c.clock.getDelta();c.mixer&&c.mixer.update(t),c.orbitControl.update(),c.renderer.render(c.scene,c.camera)}()},1e3/30)),function(){E&&clearTimeout(E)}},[c,p]);return o.a.createElement("div",{ref:function(e){return b=e},className:"threeCanvas",style:{height:"100vh"}},o.a.createElement("div",{className:"hintsText"},o.a.createElement("ul",null,o.a.createElement("li",null,"Left button to rotate"),o.a.createElement("li",null,"Wheel button to zoom"),o.a.createElement("li",null,"Right button to pan")),o.a.createElement("div",{className:"backToInitialView",onClick:function(){c.orbitControl.reset(),c.camera.position.set(p[0],p[1],p[2]),c.camera.lookAt(c.scene.children[0].children[0])}},"Back to default view")))}},23:function(e,t,a){"use strict";a.r(t);var n=a(3),i=a(10),r=a(1),o=a.n(r),s=a(0),l=a(15),c=a.n(l),u={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:["varying vec2 vUv;","void main() {","vUv = uv;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform float opacity;","uniform sampler2D tDiffuse;","varying vec2 vUv;","void main() {","vec4 texel = texture2D( tDiffuse, vUv );","gl_FragColor = opacity * texel;","}"].join("\n")};function m(){this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}Object.assign(m.prototype,{setSize:function(){},render:function(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}}),m.FullScreenQuad=function(){var e=new s.OrthographicCamera(-1,1,1,-1,0,1),t=new s.PlaneBufferGeometry(2,2),a=function(e){this._mesh=new s.Mesh(t,e)};return Object.defineProperty(a.prototype,"material",{get:function(){return this._mesh.material},set:function(e){this._mesh.material=e}}),Object.assign(a.prototype,{render:function(t){t.render(this._mesh,e)}}),a}();var d=function(e,t){m.call(this),this.textureID=void 0!==t?t:"tDiffuse",e instanceof s.ShaderMaterial?(this.uniforms=e.uniforms,this.material=e):e&&(this.uniforms=s.UniformsUtils.clone(e.uniforms),this.material=new s.ShaderMaterial({defines:Object.assign({},e.defines),uniforms:this.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader})),this.fsQuad=new m.FullScreenQuad(this.material)};d.prototype=Object.assign(Object.create(m.prototype),{constructor:d,render:function(e,t,a){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=a.texture),this.fsQuad.material=this.material,this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(t),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),this.fsQuad.render(e))}});var f=function(e,t){m.call(this),this.scene=e,this.camera=t,this.clear=!0,this.needsSwap=!1,this.inverse=!1};f.prototype=Object.assign(Object.create(m.prototype),{constructor:f,render:function(e,t,a){var n,i,r=e.context,o=e.state;o.buffers.color.setMask(!1),o.buffers.depth.setMask(!1),o.buffers.color.setLocked(!0),o.buffers.depth.setLocked(!0),this.inverse?(n=0,i=1):(n=1,i=0),o.buffers.stencil.setTest(!0),o.buffers.stencil.setOp(r.REPLACE,r.REPLACE,r.REPLACE),o.buffers.stencil.setFunc(r.ALWAYS,n,4294967295),o.buffers.stencil.setClear(i),e.setRenderTarget(a),this.clear&&e.clear(),e.render(this.scene,this.camera),e.setRenderTarget(t),this.clear&&e.clear(),e.render(this.scene,this.camera),o.buffers.color.setLocked(!1),o.buffers.depth.setLocked(!1),o.buffers.stencil.setFunc(r.EQUAL,1,4294967295),o.buffers.stencil.setOp(r.KEEP,r.KEEP,r.KEEP)}});var h=function(){m.call(this),this.needsSwap=!1};h.prototype=Object.create(m.prototype),Object.assign(h.prototype,{render:function(e){e.state.buffers.stencil.setTest(!1)}});var p=function(e,t){if(this.renderer=e,void 0===t){var a={minFilter:s.LinearFilter,magFilter:s.LinearFilter,format:s.RGBAFormat,stencilBuffer:!1},n=e.getSize(new s.Vector2);this._pixelRatio=e.getPixelRatio(),this._width=n.width,this._height=n.height,(t=new s.WebGLRenderTarget(this._width*this._pixelRatio,this._height*this._pixelRatio,a)).texture.name="EffectComposer.rt1"}else this._pixelRatio=1,this._width=t.width,this._height=t.height;this.renderTarget1=t,this.renderTarget2=t.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],void 0===u&&console.error("THREE.EffectComposer relies on CopyShader"),void 0===d&&console.error("THREE.EffectComposer relies on ShaderPass"),this.copyPass=new d(u),this.clock=new s.Clock};Object.assign(p.prototype,{swapBuffers:function(){var e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e},addPass:function(e){this.passes.push(e);var t=this.renderer.getDrawingBufferSize(new s.Vector2);e.setSize(t.width,t.height)},insertPass:function(e,t){this.passes.splice(t,0,e)},isLastEnabledPass:function(e){for(var t=e+1;t<this.passes.length;t++)if(this.passes[t].enabled)return!1;return!0},render:function(e){void 0===e&&(e=this.clock.getDelta());var t,a,n=this.renderer.getRenderTarget(),i=!1,r=this.passes.length;for(a=0;a<r;a++)if(!1!==(t=this.passes[a]).enabled){if(t.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(a),t.render(this.renderer,this.writeBuffer,this.readBuffer,e,i),t.needsSwap){if(i){var o=this.renderer.context;o.stencilFunc(o.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,e),o.stencilFunc(o.EQUAL,1,4294967295)}this.swapBuffers()}void 0!==f&&(t instanceof f?i=!0:t instanceof h&&(i=!1))}this.renderer.setRenderTarget(n)},reset:function(e){if(void 0===e){var t=this.renderer.getSize(new s.Vector2);this._pixelRatio=this.renderer.getPixelRatio(),this._width=t.width,this._height=t.height,(e=this.renderTarget1.clone()).setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2},setSize:function(e,t){this._width=e,this._height=t;var a=this._width*this._pixelRatio,n=this._height*this._pixelRatio;this.renderTarget1.setSize(a,n),this.renderTarget2.setSize(a,n);for(var i=0;i<this.passes.length;i++)this.passes[i].setSize(a,n)},setPixelRatio:function(e){this._pixelRatio=e,this.setSize(this._width,this._height)}});var v=function(){this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1};Object.assign(v.prototype,{setSize:function(){},render:function(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}}),v.FullScreenQuad=function(){var e=new s.OrthographicCamera(-1,1,1,-1,0,1),t=new s.PlaneBufferGeometry(2,2),a=function(e){this._mesh=new s.Mesh(t,e)};return Object.defineProperty(a.prototype,"material",{get:function(){return this._mesh.material},set:function(e){this._mesh.material=e}}),Object.assign(a.prototype,{render:function(t){t.render(this._mesh,e)}}),a}();var g=function(e,t,a,n,i){m.call(this),this.scene=e,this.camera=t,this.overrideMaterial=a,this.clearColor=n,this.clearAlpha=void 0!==i?i:0,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1};g.prototype=Object.assign(Object.create(m.prototype),{constructor:g,render:function(e,t,a){var n,i,r=e.autoClear;e.autoClear=!1,this.scene.overrideMaterial=this.overrideMaterial,this.clearColor&&(n=e.getClearColor().getHex(),i=e.getClearAlpha(),e.setClearColor(this.clearColor,this.clearAlpha)),this.clearDepth&&e.clearDepth(),e.setRenderTarget(this.renderToScreen?null:a),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),e.render(this.scene,this.camera),this.clearColor&&e.setClearColor(n,i),this.scene.overrideMaterial=null,e.autoClear=r}});var b={defines:{NUM_SAMPLES:7,NUM_RINGS:4,NORMAL_TEXTURE:0,DIFFUSE_TEXTURE:0,DEPTH_PACKING:1,PERSPECTIVE_CAMERA:1},uniforms:{tDepth:{value:null},tDiffuse:{value:null},tNormal:{value:null},size:{value:new s.Vector2(512,512)},cameraNear:{value:1},cameraFar:{value:100},cameraProjectionMatrix:{value:new s.Matrix4},cameraInverseProjectionMatrix:{value:new s.Matrix4},scale:{value:1},intensity:{value:.1},bias:{value:.5},minResolution:{value:0},kernelRadius:{value:100},randomSeed:{value:0}},vertexShader:["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["#include <common>","varying vec2 vUv;","#if DIFFUSE_TEXTURE == 1","uniform sampler2D tDiffuse;","#endif","uniform sampler2D tDepth;","#if NORMAL_TEXTURE == 1","uniform sampler2D tNormal;","#endif","uniform float cameraNear;","uniform float cameraFar;","uniform mat4 cameraProjectionMatrix;","uniform mat4 cameraInverseProjectionMatrix;","uniform float scale;","uniform float intensity;","uniform float bias;","uniform float kernelRadius;","uniform float minResolution;","uniform vec2 size;","uniform float randomSeed;","// RGBA depth","#include <packing>","vec4 getDefaultColor( const in vec2 screenPosition ) {","\t#if DIFFUSE_TEXTURE == 1","\treturn texture2D( tDiffuse, vUv );","\t#else","\treturn vec4( 1.0 );","\t#endif","}","float getDepth( const in vec2 screenPosition ) {","\t#if DEPTH_PACKING == 1","\treturn unpackRGBAToDepth( texture2D( tDepth, screenPosition ) );","\t#else","\treturn texture2D( tDepth, screenPosition ).x;","\t#endif","}","float getViewZ( const in float depth ) {","\t#if PERSPECTIVE_CAMERA == 1","\treturn perspectiveDepthToViewZ( depth, cameraNear, cameraFar );","\t#else","\treturn orthographicDepthToViewZ( depth, cameraNear, cameraFar );","\t#endif","}","vec3 getViewPosition( const in vec2 screenPosition, const in float depth, const in float viewZ ) {","\tfloat clipW = cameraProjectionMatrix[2][3] * viewZ + cameraProjectionMatrix[3][3];","\tvec4 clipPosition = vec4( ( vec3( screenPosition, depth ) - 0.5 ) * 2.0, 1.0 );","\tclipPosition *= clipW; // unprojection.","\treturn ( cameraInverseProjectionMatrix * clipPosition ).xyz;","}","vec3 getViewNormal( const in vec3 viewPosition, const in vec2 screenPosition ) {","\t#if NORMAL_TEXTURE == 1","\treturn unpackRGBToNormal( texture2D( tNormal, screenPosition ).xyz );","\t#else","\treturn normalize( cross( dFdx( viewPosition ), dFdy( viewPosition ) ) );","\t#endif","}","float scaleDividedByCameraFar;","float minResolutionMultipliedByCameraFar;","float getOcclusion( const in vec3 centerViewPosition, const in vec3 centerViewNormal, const in vec3 sampleViewPosition ) {","\tvec3 viewDelta = sampleViewPosition - centerViewPosition;","\tfloat viewDistance = length( viewDelta );","\tfloat scaledScreenDistance = scaleDividedByCameraFar * viewDistance;","\treturn max(0.0, (dot(centerViewNormal, viewDelta) - minResolutionMultipliedByCameraFar) / scaledScreenDistance - bias) / (1.0 + pow2( scaledScreenDistance ) );","}","// moving costly divides into consts","const float ANGLE_STEP = PI2 * float( NUM_RINGS ) / float( NUM_SAMPLES );","const float INV_NUM_SAMPLES = 1.0 / float( NUM_SAMPLES );","float getAmbientOcclusion( const in vec3 centerViewPosition ) {","\t// precompute some variables require in getOcclusion.","\tscaleDividedByCameraFar = scale / cameraFar;","\tminResolutionMultipliedByCameraFar = minResolution * cameraFar;","\tvec3 centerViewNormal = getViewNormal( centerViewPosition, vUv );","\t// jsfiddle that shows sample pattern: https://jsfiddle.net/a16ff1p7/","\tfloat angle = rand( vUv + randomSeed ) * PI2;","\tvec2 radius = vec2( kernelRadius * INV_NUM_SAMPLES ) / size;","\tvec2 radiusStep = radius;","\tfloat occlusionSum = 0.0;","\tfloat weightSum = 0.0;","\tfor( int i = 0; i < NUM_SAMPLES; i ++ ) {","\t\tvec2 sampleUv = vUv + vec2( cos( angle ), sin( angle ) ) * radius;","\t\tradius += radiusStep;","\t\tangle += ANGLE_STEP;","\t\tfloat sampleDepth = getDepth( sampleUv );","\t\tif( sampleDepth >= ( 1.0 - EPSILON ) ) {","\t\t\tcontinue;","\t\t}","\t\tfloat sampleViewZ = getViewZ( sampleDepth );","\t\tvec3 sampleViewPosition = getViewPosition( sampleUv, sampleDepth, sampleViewZ );","\t\tocclusionSum += getOcclusion( centerViewPosition, centerViewNormal, sampleViewPosition );","\t\tweightSum += 1.0;","\t}","\tif( weightSum == 0.0 ) discard;","\treturn occlusionSum * ( intensity / weightSum );","}","void main() {","\tfloat centerDepth = getDepth( vUv );","\tif( centerDepth >= ( 1.0 - EPSILON ) ) {","\t\tdiscard;","\t}","\tfloat centerViewZ = getViewZ( centerDepth );","\tvec3 viewPosition = getViewPosition( vUv, centerDepth, centerViewZ );","\tfloat ambientOcclusion = getAmbientOcclusion( viewPosition );","\tgl_FragColor = getDefaultColor( vUv );","\tgl_FragColor.xyz *=  1.0 - ambientOcclusion;","}"].join("\n")},E={defines:{KERNEL_RADIUS:4,DEPTH_PACKING:1,PERSPECTIVE_CAMERA:1},uniforms:{tDiffuse:{value:null},size:{value:new s.Vector2(512,512)},sampleUvOffsets:{value:[new s.Vector2(0,0)]},sampleWeights:{value:[1]},tDepth:{value:null},cameraNear:{value:10},cameraFar:{value:1e3},depthCutoff:{value:10}},vertexShader:["#include <common>","uniform vec2 size;","varying vec2 vUv;","varying vec2 vInvSize;","void main() {","\tvUv = uv;","\tvInvSize = 1.0 / size;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["#include <common>","#include <packing>","uniform sampler2D tDiffuse;","uniform sampler2D tDepth;","uniform float cameraNear;","uniform float cameraFar;","uniform float depthCutoff;","uniform vec2 sampleUvOffsets[ KERNEL_RADIUS + 1 ];","uniform float sampleWeights[ KERNEL_RADIUS + 1 ];","varying vec2 vUv;","varying vec2 vInvSize;","float getDepth( const in vec2 screenPosition ) {","\t#if DEPTH_PACKING == 1","\treturn unpackRGBAToDepth( texture2D( tDepth, screenPosition ) );","\t#else","\treturn texture2D( tDepth, screenPosition ).x;","\t#endif","}","float getViewZ( const in float depth ) {","\t#if PERSPECTIVE_CAMERA == 1","\treturn perspectiveDepthToViewZ( depth, cameraNear, cameraFar );","\t#else","\treturn orthographicDepthToViewZ( depth, cameraNear, cameraFar );","\t#endif","}","void main() {","\tfloat depth = getDepth( vUv );","\tif( depth >= ( 1.0 - EPSILON ) ) {","\t\tdiscard;","\t}","\tfloat centerViewZ = -getViewZ( depth );","\tbool rBreak = false, lBreak = false;","\tfloat weightSum = sampleWeights[0];","\tvec4 diffuseSum = texture2D( tDiffuse, vUv ) * weightSum;","\tfor( int i = 1; i <= KERNEL_RADIUS; i ++ ) {","\t\tfloat sampleWeight = sampleWeights[i];","\t\tvec2 sampleUvOffset = sampleUvOffsets[i] * vInvSize;","\t\tvec2 sampleUv = vUv + sampleUvOffset;","\t\tfloat viewZ = -getViewZ( getDepth( sampleUv ) );","\t\tif( abs( viewZ - centerViewZ ) > depthCutoff ) rBreak = true;","\t\tif( ! rBreak ) {","\t\t\tdiffuseSum += texture2D( tDiffuse, sampleUv ) * sampleWeight;","\t\t\tweightSum += sampleWeight;","\t\t}","\t\tsampleUv = vUv - sampleUvOffset;","\t\tviewZ = -getViewZ( getDepth( sampleUv ) );","\t\tif( abs( viewZ - centerViewZ ) > depthCutoff ) lBreak = true;","\t\tif( ! lBreak ) {","\t\t\tdiffuseSum += texture2D( tDiffuse, sampleUv ) * sampleWeight;","\t\t\tweightSum += sampleWeight;","\t\t}","\t}","\tgl_FragColor = diffuseSum / weightSum;","}"].join("\n")},w={createSampleWeights:function(e,t){for(var a=function(e,t){return Math.exp(-e*e/(t*t*2))/(Math.sqrt(2*Math.PI)*t)},n=[],i=0;i<=e;i++)n.push(a(i,t));return n},createSampleOffsets:function(e,t){for(var a=[],n=0;n<=e;n++)a.push(t.clone().multiplyScalar(n));return a},configure:function(e,t,a,n){e.defines.KERNEL_RADIUS=t,e.uniforms.sampleUvOffsets.value=w.createSampleOffsets(t,n),e.uniforms.sampleWeights.value=w.createSampleWeights(t,a),e.needsUpdate=!0}},y={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:["varying vec2 vUv;","void main() {","vUv = uv;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform float opacity;","uniform sampler2D tDiffuse;","varying vec2 vUv;","#include <packing>","void main() {","float depth = 1.0 - unpackRGBAToDepth( texture2D( tDiffuse, vUv ) );","gl_FragColor = vec4( vec3( depth ), opacity );","}"].join("\n")},C=function(e,t,a,n,i){(m.call(this),this.scene=e,this.camera=t,this.clear=!0,this.needsSwap=!1,this.supportsDepthTextureExtension=void 0!==a&&a,this.supportsNormalTexture=void 0!==n&&n,this.originalClearColor=new s.Color,this.oldClearColor=new s.Color,this.oldClearAlpha=1,this.params={output:0,saoBias:.5,saoIntensity:.18,saoScale:1,saoKernelRadius:100,saoMinResolution:0,saoBlur:!0,saoBlurRadius:8,saoBlurStdDev:4,saoBlurDepthCutoff:.01},this.resolution=void 0!==i?new s.Vector2(i.x,i.y):new s.Vector2(256,256),this.saoRenderTarget=new s.WebGLRenderTarget(this.resolution.x,this.resolution.y,{minFilter:s.LinearFilter,magFilter:s.LinearFilter,format:s.RGBAFormat}),this.blurIntermediateRenderTarget=this.saoRenderTarget.clone(),this.beautyRenderTarget=this.saoRenderTarget.clone(),this.normalRenderTarget=new s.WebGLRenderTarget(this.resolution.x,this.resolution.y,{minFilter:s.NearestFilter,magFilter:s.NearestFilter,format:s.RGBAFormat}),this.depthRenderTarget=this.normalRenderTarget.clone(),this.supportsDepthTextureExtension)&&((a=new s.DepthTexture).type=s.UnsignedShortType,a.minFilter=s.NearestFilter,a.maxFilter=s.NearestFilter,this.beautyRenderTarget.depthTexture=a,this.beautyRenderTarget.depthBuffer=!0);this.depthMaterial=new s.MeshDepthMaterial,this.depthMaterial.depthPacking=s.RGBADepthPacking,this.depthMaterial.blending=s.NoBlending,this.normalMaterial=new s.MeshNormalMaterial,this.normalMaterial.blending=s.NoBlending,void 0===b&&console.error("THREE.SAOPass relies on SAOShader"),this.saoMaterial=new s.ShaderMaterial({defines:Object.assign({},b.defines),fragmentShader:b.fragmentShader,vertexShader:b.vertexShader,uniforms:s.UniformsUtils.clone(b.uniforms)}),this.saoMaterial.extensions.derivatives=!0,this.saoMaterial.defines.DEPTH_PACKING=this.supportsDepthTextureExtension?0:1,this.saoMaterial.defines.NORMAL_TEXTURE=this.supportsNormalTexture?1:0,this.saoMaterial.defines.PERSPECTIVE_CAMERA=this.camera.isPerspectiveCamera?1:0,this.saoMaterial.uniforms.tDepth.value=this.supportsDepthTextureExtension?a:this.depthRenderTarget.texture,this.saoMaterial.uniforms.tNormal.value=this.normalRenderTarget.texture,this.saoMaterial.uniforms.size.value.set(this.resolution.x,this.resolution.y),this.saoMaterial.uniforms.cameraInverseProjectionMatrix.value.getInverse(this.camera.projectionMatrix),this.saoMaterial.uniforms.cameraProjectionMatrix.value=this.camera.projectionMatrix,this.saoMaterial.blending=s.NoBlending,void 0===E&&console.error("THREE.SAOPass relies on DepthLimitedBlurShader"),this.vBlurMaterial=new s.ShaderMaterial({uniforms:s.UniformsUtils.clone(E.uniforms),defines:Object.assign({},E.defines),vertexShader:E.vertexShader,fragmentShader:E.fragmentShader}),this.vBlurMaterial.defines.DEPTH_PACKING=this.supportsDepthTextureExtension?0:1,this.vBlurMaterial.defines.PERSPECTIVE_CAMERA=this.camera.isPerspectiveCamera?1:0,this.vBlurMaterial.uniforms.tDiffuse.value=this.saoRenderTarget.texture,this.vBlurMaterial.uniforms.tDepth.value=this.supportsDepthTextureExtension?a:this.depthRenderTarget.texture,this.vBlurMaterial.uniforms.size.value.set(this.resolution.x,this.resolution.y),this.vBlurMaterial.blending=s.NoBlending,this.hBlurMaterial=new s.ShaderMaterial({uniforms:s.UniformsUtils.clone(E.uniforms),defines:Object.assign({},E.defines),vertexShader:E.vertexShader,fragmentShader:E.fragmentShader}),this.hBlurMaterial.defines.DEPTH_PACKING=this.supportsDepthTextureExtension?0:1,this.hBlurMaterial.defines.PERSPECTIVE_CAMERA=this.camera.isPerspectiveCamera?1:0,this.hBlurMaterial.uniforms.tDiffuse.value=this.blurIntermediateRenderTarget.texture,this.hBlurMaterial.uniforms.tDepth.value=this.supportsDepthTextureExtension?a:this.depthRenderTarget.texture,this.hBlurMaterial.uniforms.size.value.set(this.resolution.x,this.resolution.y),this.hBlurMaterial.blending=s.NoBlending,void 0===u&&console.error("THREE.SAOPass relies on CopyShader"),this.materialCopy=new s.ShaderMaterial({uniforms:s.UniformsUtils.clone(u.uniforms),vertexShader:u.vertexShader,fragmentShader:u.fragmentShader,blending:s.NoBlending}),this.materialCopy.transparent=!0,this.materialCopy.depthTest=!1,this.materialCopy.depthWrite=!1,this.materialCopy.blending=s.CustomBlending,this.materialCopy.blendSrc=s.DstColorFactor,this.materialCopy.blendDst=s.ZeroFactor,this.materialCopy.blendEquation=s.AddEquation,this.materialCopy.blendSrcAlpha=s.DstAlphaFactor,this.materialCopy.blendDstAlpha=s.ZeroFactor,this.materialCopy.blendEquationAlpha=s.AddEquation,void 0===y&&console.error("THREE.SAOPass relies on UnpackDepthRGBAShader"),this.depthCopy=new s.ShaderMaterial({uniforms:s.UniformsUtils.clone(y.uniforms),vertexShader:y.vertexShader,fragmentShader:y.fragmentShader,blending:s.NoBlending}),this.fsQuad=new m.FullScreenQuad(null)};C.OUTPUT={Beauty:1,Default:0,SAO:2,Depth:3,Normal:4},C.prototype=Object.assign(Object.create(m.prototype),{constructor:C,render:function(e,t,a){if(this.renderToScreen&&(this.materialCopy.blending=s.NoBlending,this.materialCopy.uniforms.tDiffuse.value=a.texture,this.materialCopy.needsUpdate=!0,this.renderPass(e,this.materialCopy,null)),1!==this.params.output){this.oldClearColor.copy(e.getClearColor()),this.oldClearAlpha=e.getClearAlpha();var n=e.autoClear;e.autoClear=!1,e.setRenderTarget(this.depthRenderTarget),e.clear(),this.saoMaterial.uniforms.bias.value=this.params.saoBias,this.saoMaterial.uniforms.intensity.value=this.params.saoIntensity,this.saoMaterial.uniforms.scale.value=this.params.saoScale,this.saoMaterial.uniforms.kernelRadius.value=this.params.saoKernelRadius,this.saoMaterial.uniforms.minResolution.value=this.params.saoMinResolution,this.saoMaterial.uniforms.cameraNear.value=this.camera.near,this.saoMaterial.uniforms.cameraFar.value=this.camera.far;var i=this.params.saoBlurDepthCutoff*(this.camera.far-this.camera.near);this.vBlurMaterial.uniforms.depthCutoff.value=i,this.hBlurMaterial.uniforms.depthCutoff.value=i,this.vBlurMaterial.uniforms.cameraNear.value=this.camera.near,this.vBlurMaterial.uniforms.cameraFar.value=this.camera.far,this.hBlurMaterial.uniforms.cameraNear.value=this.camera.near,this.hBlurMaterial.uniforms.cameraFar.value=this.camera.far,this.params.saoBlurRadius=Math.floor(this.params.saoBlurRadius),this.prevStdDev===this.params.saoBlurStdDev&&this.prevNumSamples===this.params.saoBlurRadius||(w.configure(this.vBlurMaterial,this.params.saoBlurRadius,this.params.saoBlurStdDev,new s.Vector2(0,1)),w.configure(this.hBlurMaterial,this.params.saoBlurRadius,this.params.saoBlurStdDev,new s.Vector2(1,0)),this.prevStdDev=this.params.saoBlurStdDev,this.prevNumSamples=this.params.saoBlurRadius),e.setClearColor(0),e.setRenderTarget(this.beautyRenderTarget),e.clear(),e.render(this.scene,this.camera),this.supportsDepthTextureExtension||this.renderOverride(e,this.depthMaterial,this.depthRenderTarget,0,1),this.supportsNormalTexture&&this.renderOverride(e,this.normalMaterial,this.normalRenderTarget,7829503,1),this.renderPass(e,this.saoMaterial,this.saoRenderTarget,16777215,1),this.params.saoBlur&&(this.renderPass(e,this.vBlurMaterial,this.blurIntermediateRenderTarget,16777215,1),this.renderPass(e,this.hBlurMaterial,this.saoRenderTarget,16777215,1));var r=this.materialCopy;3===this.params.output?this.supportsDepthTextureExtension?(this.materialCopy.uniforms.tDiffuse.value=this.beautyRenderTarget.depthTexture,this.materialCopy.needsUpdate=!0):(this.depthCopy.uniforms.tDiffuse.value=this.depthRenderTarget.texture,this.depthCopy.needsUpdate=!0,r=this.depthCopy):4===this.params.output?(this.materialCopy.uniforms.tDiffuse.value=this.normalRenderTarget.texture,this.materialCopy.needsUpdate=!0):(this.materialCopy.uniforms.tDiffuse.value=this.saoRenderTarget.texture,this.materialCopy.needsUpdate=!0),0===this.params.output?r.blending=s.CustomBlending:r.blending=s.NoBlending,this.renderPass(e,r,this.renderToScreen?null:a),e.setClearColor(this.oldClearColor,this.oldClearAlpha),e.autoClear=n}},renderPass:function(e,t,a,n,i){this.originalClearColor.copy(e.getClearColor());var r=e.getClearAlpha(),o=e.autoClear;e.setRenderTarget(a),e.autoClear=!1,void 0!==n&&null!==n&&(e.setClearColor(n),e.setClearAlpha(i||0),e.clear()),this.fsQuad.material=t,this.fsQuad.render(e),e.autoClear=o,e.setClearColor(this.originalClearColor),e.setClearAlpha(r)},renderOverride:function(e,t,a,n,i){this.originalClearColor.copy(e.getClearColor());var r=e.getClearAlpha(),o=e.autoClear;e.setRenderTarget(a),e.autoClear=!1,n=t.clearColor||n,i=t.clearAlpha||i,void 0!==n&&null!==n&&(e.setClearColor(n),e.setClearAlpha(i||0),e.clear()),this.scene.overrideMaterial=t,e.render(this.scene,this.camera),this.scene.overrideMaterial=null,e.autoClear=o,e.setClearColor(this.originalClearColor),e.setClearAlpha(r)},setSize:function(e,t){this.beautyRenderTarget.setSize(e,t),this.saoRenderTarget.setSize(e,t),this.blurIntermediateRenderTarget.setSize(e,t),this.normalRenderTarget.setSize(e,t),this.depthRenderTarget.setSize(e,t),this.saoMaterial.uniforms.size.value.set(e,t),this.saoMaterial.uniforms.cameraInverseProjectionMatrix.value.getInverse(this.camera.projectionMatrix),this.saoMaterial.uniforms.cameraProjectionMatrix.value=this.camera.projectionMatrix,this.saoMaterial.needsUpdate=!0,this.vBlurMaterial.uniforms.size.value.set(e,t),this.vBlurMaterial.needsUpdate=!0,this.hBlurMaterial.uniforms.size.value.set(e,t),this.hBlurMaterial.needsUpdate=!0}});var S=a(86),x=a.n(S),O=a(87),j=a.n(O),M=a(88),T=a.n(M),P=a(89),R=a.n(P),N=(a(76),a(75)),D=function(e,t,a){t.enabled=!0,t.setEffectiveTimeScale(1),t.setEffectiveWeight(1),t.time=0,e.crossFadeTo(t,a,!0)};t.default=function(e){var t=e.enableSAOPass,l=void 0!==t&&t,u=Object(r.useState)({scene:null,camera:null,containerEl:null,renderer:null,orbitControl:null,raycaster:null,clock:null,mixer:null}),m=Object(n.a)(u,2),d=m[0],f=m[1],h=Object(r.useState)(null),v=Object(n.a)(h,2),b=v[0],E=v[1],w=Object(r.useState)(0),y=Object(n.a)(w,2),S=(y[0],y[1],Object(r.useState)(0)),O=Object(n.a)(S,2),M=(O[0],O[1],Object(r.useState)(null)),P=Object(n.a)(M,2),A=P[0],F=P[1],_=Object(r.useState)([]),L=Object(n.a)(_,2),k=(L[0],L[1]),B=Object(r.useState)([window.innerWidth,window.innerHeight]),V=Object(n.a)(B,2),U=(V[0],V[1],Object(r.useState)(Date.now())),I=Object(n.a)(U,2),z=(I[0],I[1],null),H=null,G=function(){(function(e,t){var n=new N,r=[[a(30),a(156)],[a(157),a(158)],[a(159),a(160)]],o=[{panName:"frying_pan_A",tracksRename:{"Meat_A__Copy_.position":"Meat_A.position","Meat_A__Copy_.quaternion":"Meat_A.quaternion","frying_pan_A_2.position":"frying_pan_A_2.position","frying_pan_A_2.quaternion":"frying_pan_A_2.quaternion"}},{panName:"frying_pan_B",tracksRename:{"Meat_B__Copy_.position":"Meat_B.position","Meat_B__Copy_.quaternion":"Meat_B.quaternion","frying_pan_B_2.position":"frying_pan_B_2.position","frying_pan_B_2.quaternion":"frying_pan_B_2.quaternion"}},{panName:"frying_pan_C",tracksRename:{"Meat_C__Copy_.position":"Meat_C.position","Meat_C__Copy_.quaternion":"Meat_C.quaternion","frying_pan_C_2.position":"frying_pan_C_2.position","frying_pan_C_2.quaternion":"frying_pan_C_2.quaternion"}}],l=[],c=new Array(2*r.length).fill(0),u=function(){var e=~~(c.reduce(function(e,t){return e+t})/r.length/2*1e4)/100;console.log(e),"function"===typeof t&&t(e)};return r.forEach(function(t,a){var r=o[a],m=e.children.find(function(e){return e.name===r.panName}),d=new s.AnimationMixer(m),f=new Promise(function(e,i){n.load(t[0],function(t){t.animations[0].tracks.forEach(function(e){e.name=r.tracksRename[e.name]});var a=d.clipAction(t.animations[0]);a.play(),e({shake:a})},function(e){c[2*a]=e.loaded/e.total,u()},function(e){console.log(e),c[2*a]=1,u(),i(e)})}),h=new Promise(function(e,i){n.load(t[1],function(t){t.animations[0].tracks.forEach(function(e){e.name=r.tracksRename[e.name]});var a=d.clipAction(t.animations[0]);a.play(),e({flip:a})},function(e){c[2*a+1]=e.loaded/e.total,u()},function(e){console.log(e),c[2*a+1]=1,u(),i(e)})});l.push(Promise.all([f,h]).then(function(e){var t=Object(i.a)({},e[0],{},e[1]);return d.addEventListener("loop",function(e){e.action===t.shake?D(t.shake,t.flip,1):D(t.flip,t.shake,1)}),{name:r.panName,mixer:d,actions:t}}))}),Promise.all(l)})(A).then(function(e){E(e)})},W=function e(){if(H=requestAnimationFrame(e),b)for(var t=d.clock.getDelta(),a=0;a<b.length;a++){var n=b[a].mixer;n&&n.update(t)}d.orbitControl.update(),l&&d.composer?d.composer.render():d.renderer.render(d.scene,d.camera)},Z=function(){d.camera.aspect=d.containerEl.offsetWidth/d.containerEl.offsetHeight,d.camera.updateProjectionMatrix(),d.renderer.setSize(d.containerEl.offsetWidth,d.containerEl.offsetHeight)};return Object(r.useEffect)(function(){!function(){var e=new s.Scene,t=new s.PerspectiveCamera(36,z.offsetWidth/z.offsetHeight,1,1e3);t.position.set(0,240,-150),t.lookAt(0,0,120),t.useTarget=!1,t.updateProjectionMatrix();var a=new s.WebGLRenderer({antialias:!0});a.setPixelRatio(window.devicePixelRatio),a.setSize(z.offsetWidth,z.offsetHeight),a.setClearColor(13421772,1),a.shadowMap.enabled=!0,a.shadowMap.needsUpdate=!0,z.appendChild(a.domElement);var n=new c.a(t,a.domElement);n.target.z=120;var i=new s.Clock;(new N).load(x.a,function(t){!function e(t,a){var n=null;return t.traverse(function(i){t!==i&&e(i,a),i.isPointLight?(i.castShadow=!1,i.intensity=1):i.isDirectionalLight?(i.castShadow=!0,i.shadow.mapSize.width=1024,i.shadow.mapSize.height=1024,i.shadow.camera.near=.5,i.shadow.camera.far=5e3,i.shadow.camera.left=-1e3,i.shadow.camera.right=1e3,i.shadow.camera.bottom=-1e3,i.shadow.camera.top=1e3,i.intensity=1,i.position.y=340,i.position.z=-150):i.isCamera?n=i:0===i.children.length&&(i.castShadow=!0,i.receiveShadow=!0)}),n}(t,e),e.add(t),F(t),t.children.filter(function(e){return e.name.startsWith("frying_pan_")}).forEach(function(e){e.children.find(function(e){return e.name.toLowerCase().startsWith("induction_cooker_")&&e.name.endsWith("2")}).material.color=new s.Color(16777215)})},function(e){console.log(e.loaded/e.total*100+"%")},function(e){console.log(e)});var r=new s.TextureLoader,o=[r.load(j.a),r.load(T.a),r.load(R.a)];k(o);var u=null;if(l){u=new p(a);var m=new g(e,t);u.addPass(m);var d=new C(e,t,!1,!0);u.addPass(d),d.params.output=C.OUTPUT.Default,d.params.saoBias=.5,d.params.saoIntensity=.5,d.params.saoScale=200,d.params.saoKernelRadius=15,d.params.saoMinResolution=0,d.params.saoBlur=!0,d.params.saoBlurRadius=8,d.params.saoBlurStdDev=4,d.params.saoBlurDepthCutoff=.01}a.shadowMap.enabled=!0,a.shadowMap.type=s.PCFSoftShadowMap,a.shadowMap.needsUpdate=!0,f({scene:e,camera:t,containerEl:z,renderer:a,orbitControl:n,clock:i,composer:u})}()},[]),Object(r.useEffect)(function(){return H&&cancelAnimationFrame(H),d.scene&&(H=requestAnimationFrame(W)),function(){H&&cancelAnimationFrame(H)}},[d,b]),Object(r.useEffect)(function(){A&&G()},[A]),Object(r.useEffect)(function(){return window.addEventListener("resize",Z),function(){window.removeEventListener("resize",Z)}},[d]),o.a.createElement("div",{ref:function(e){return z=e},className:"threeCanvas"})}},29:function(e,t,a){},30:function(e,t,a){e.exports=a.p+"static/media/190717_frying pan animationA_shake.0f9bee90.fbx"},31:function(e,t,a){"use strict";a.r(t);var n=a(10),i=a(3),r=a(1),o=a.n(r),s=a(11),l=a(0),c=a(15),u=a.n(c),m=a(43);a(29);t.default=function(e){var t=Object(r.useState)({scene:null,camera:null,containerEl:null,renderer:null,orbitControl:null,raycaster:null,clock:null,mixer:null}),a=Object(i.a)(t,2),c=a[0],d=a[1],f=Object(r.useState)([0,0,-10]),h=Object(i.a)(f,2),p=h[0],v=(h[1],Object(s.h)().fbxName);console.log(v);var g=null,b=null,E=function(){c.camera.aspect=c.containerEl.offsetWidth/c.containerEl.offsetHeight,c.camera.updateProjectionMatrix(),c.renderer.setSize(c.containerEl.offsetWidth,c.containerEl.offsetHeight)};Object(r.useEffect)(function(){!function(){var e=new l.Scene,t=new l.PerspectiveCamera(50,g.offsetWidth/g.offsetHeight,.1,1e4);t.position.set(0,2,-2),t.lookAt(0,0,0),t.updateProjectionMatrix();var a=new l.DirectionalLight(new l.Color("#FFFFFF"),.62);a.position.set(0,133.872,0),e.add(a);var i=new l.PointLight(new l.Color("#FFFFFF"),.66);i.position.set(-196.826,0,-137.264),e.add(i);var r=new l.PointLight(new l.Color("#FFFFFF"),.22);r.position.set(160.014,-56.559,.616),e.add(r);var o=new l.AmbientLight(new l.Color("#FFFFFF"),.42);e.add(o);var s=new l.WebGLRenderer({antialias:!0,alpha:!0});s.setPixelRatio(window.devicePixelRatio),s.setSize(g.offsetWidth,g.offsetHeight),s.setClearColor(16777215,0),g.appendChild(s.domElement);var c=new u.a(t,s.domElement),f=new l.Raycaster(t.position,new l.Vector3(0,0,0),0,2*c.maxDistance),h=new l.Clock,p=new m.a,v=null;p.load("./media/fbx/test1000.fbx",function(t){v=new l.AnimationMixer(t);var a=null;t.animations.length&&(a=v.clipAction(t.animations[0])).play();var i=t.getObjectByName("Default_6",!0);if(i){var r=(new l.TextureLoader).load("./media/fbx/mask2.png");i.material=new l.MeshStandardMaterial({color:new l.Color("#72BDCB"),roughness:.38,metalness:.24,emissive:new l.Color("#2d4848"),emissiveIntensity:.58,opacity:1,alphaMap:r,transparent:!0})}i.needsUpdate=!0,t.scale.set(.01,.01,.01),e.add(t),d(function(e){return Object(n.a)({},e,{mixer:v,action:a})})},function(e){console.log(e.loaded/e.total*100+"%")},function(e){console.log(e)}),p.load("./media/fbx/webmb.fbx",function(t){v=new l.AnimationMixer(t);var a=null;t.animations.length&&(a=v.clipAction(t.animations[0])).play();var i=t.getObjectByName("webmb",!0);if(i){var r=!1,o=!1,s=document.createElement("video");s.oncanplay=function(){(r=!0)&&o&&(s.play(),u.play())},s.muted=!0,s.loop=!0,s.autoplay=!0,s.src="./media/fbx/webmTex.webm";var c=new l.VideoTexture(s);c.format=l.RGBAFormat,i.material.map=c,i.material.alphaTest=.2;var u=document.createElement("video");u.oncanplay=function(){o=!0,r&&o&&(s.play(),u.play())},u.muted=!0,u.loop=!0,u.autoplay=!0,u.src="./media/fbx/webmDisp.mp4";var m=new l.VideoTexture(u);i.material.displacementMap=m,i.material.displacementScale=8,i.material.transparent=!0,i.material.needsUpdate=!0}t.scale.set(.01,.01,.01),e.add(t),d(function(e){return Object(n.a)({},e,{mixer:v,action:a})})},function(e){console.log(e.loaded/e.total*100+"%")},function(e){console.log(e)}),d({scene:e,camera:t,containerEl:g,renderer:s,orbitControl:c,raycaster:f,clock:h})}()},[]),Object(r.useEffect)(function(){return window.addEventListener("resize",E),function(){window.removeEventListener("resize",E)}},[c]),Object(r.useEffect)(function(){return b&&clearTimeout(b),c.scene&&(b=setTimeout(function(){return function e(){b=requestAnimationFrame(function(){return e()});var t=c.clock.getDelta();c.mixer&&c.mixer.update(t),c.orbitControl.update(),c.renderer.render(c.scene,c.camera)}()},1e3/30)),function(){b&&clearTimeout(b)}},[c,p]);return o.a.createElement("div",{ref:function(e){return g=e},className:"threeCanvas",style:{height:"100vh"}},o.a.createElement("div",{className:"hintsText"},o.a.createElement("ul",null,o.a.createElement("li",null,"Left button to rotate"),o.a.createElement("li",null,"Wheel button to zoom"),o.a.createElement("li",null,"Right button to pan")),o.a.createElement("div",{className:"backToInitialView",onClick:function(){c.orbitControl.reset(),c.camera.position.set(p[0],p[1],p[2]),c.camera.lookAt(c.scene.children[0].children[0])}},"Back to default view")))}},32:function(e,t,a){"use strict";a.r(t);var n=a(10),i=a(3),r=a(1),o=a.n(r),s=a(11),l=a(0),c=a(15),u=a.n(c),m=a(90);a(29);t.default=function(e){var t=Object(r.useState)({scene:null,camera:null,containerEl:null,renderer:null,orbitControl:null,raycaster:null,clock:null,mixer:null}),a=Object(i.a)(t,2),c=a[0],d=a[1],f=Object(r.useState)([0,0,-10]),h=Object(i.a)(f,2),p=h[0],v=h[1],g=Object(s.h)().jsonName;console.log(g);var b=null,E=null,w=function(){var e=new l.Scene;e.background=new l.Color(4210752);var t=new l.PerspectiveCamera(50,b.offsetWidth/b.offsetHeight,.1,1e4);t.lookAt(0,0,0),t.updateProjectionMatrix();var a=new l.WebGLRenderer({antialias:!0,alpha:!0});a.setPixelRatio(window.devicePixelRatio),a.setSize(b.offsetWidth,b.offsetHeight),a.setClearColor(13421772,0),b.appendChild(a.domElement),a.shadowMap.enabled=!0,a.shadowMap.type=l.PCFSoftShadowMap;var i=new u.a(t,a.domElement),r=new l.Raycaster(t.position,new l.Vector3(0,0,0),0,2*i.maxDistance),o=new l.Clock,s=new m.a,c=null;s.load("./media/json/".concat(g,".json"),function(a){c=new l.AnimationMixer(a);var i=null;a.animations.length&&(i=c.clipAction(a.animations[0])).play();var r=a.getObjectByName("Camera");r?(v([r.position.x,r.position.y,r.position.z]),t.position.set(r.position.x,r.position.y,r.position.z)):t.position.set(p[0],p[1],p[2]);for(var o="a".charCodeAt(0);o<="z".charCodeAt(0);o++){var s=String.fromCharCode(o),u=a.getObjectByName("video".concat(s),!0);u&&function(){var e=document.createElement("video");e.oncanplay=function(){e.play()},e.muted=!0,e.loop=!0,e.autoplay=!0,e.src="./media/json/video".concat(s,".mp4");var t=new l.VideoTexture(e);t.minFilter=l.LinearFilter,t.magFilter=l.LinearFilter,t.format=l.RGBFormat,u.material.map=t}()}!function(e,t){e.traverse(function(e){e.isMesh&&(e.material.side=l.FrontSide,e.material.needsUpdate=!0,e.castShadow=!0,e.receiveShadow=!0)})}(a),e.add(a),d(function(e){return Object(n.a)({},e,{mixer:c,action:i})})},function(e){console.log(e.loaded/e.total*100+"%")},function(e){console.log(e)}),d({scene:e,camera:t,containerEl:b,renderer:a,orbitControl:i,raycaster:r,clock:o})},y=function(){c.camera.aspect=c.containerEl.offsetWidth/c.containerEl.offsetHeight,c.camera.updateProjectionMatrix(),c.renderer.setSize(c.containerEl.offsetWidth,c.containerEl.offsetHeight)};Object(r.useEffect)(function(){w()},[]),Object(r.useEffect)(function(){return window.addEventListener("resize",y),function(){window.removeEventListener("resize",y)}},[c]),Object(r.useEffect)(function(){return E&&clearTimeout(E),c.scene&&(E=setTimeout(function(){return function e(){E=requestAnimationFrame(function(){return e()});var t=c.clock.getDelta();c.mixer&&c.mixer.update(t),c.orbitControl.update(),c.renderer.render(c.scene,c.camera)}()},1e3/30)),function(){E&&clearTimeout(E)}},[c,p]);return o.a.createElement("div",{ref:function(e){return b=e},className:"threeCanvas",style:{height:"100vh"}},o.a.createElement("div",{className:"hintsText"},o.a.createElement("ul",null,o.a.createElement("li",null,"Left button to rotate"),o.a.createElement("li",null,"Wheel button to zoom"),o.a.createElement("li",null,"Right button to pan")),o.a.createElement("div",{className:"backToInitialView",onClick:function(){c.orbitControl.reset(),c.camera.position.set(p[0],p[1],p[2]),c.camera.lookAt(c.scene.children[0].children[0])}},"Back to default view")))}},33:function(e,t,a){"use strict";a.r(t);var n=a(1),i=a.n(n),r=a(7),o=a(8);t.default=function(){return i.a.createElement("ul",{className:"client"},i.a.createElement("li",null,i.a.createElement(r.b,{to:o.a.fbxViewer},"Windows Animation")),i.a.createElement("li",null,i.a.createElement(r.b,{to:o.a.kitchenViewer},"Kitchen Animation")),i.a.createElement("li",null,i.a.createElement(r.b,{to:o.a.homePage},"Game")),i.a.createElement("li",null,i.a.createElement(r.b,{to:o.a.touchTableViewer},"Touch Table Testing")),i.a.createElement("li",null,i.a.createElement(r.b,{to:o.a.svgAnimator},"svg Testing")))}},34:function(e,t,a){"use strict";a.r(t);var n=a(3),i=a(1),r=a.n(i),o=a(8);t.default=function(){var e=Object(i.useState)([1920,1080]),t=Object(n.a)(e,2),a=t[0],s=t[1],l=Object(i.useState)([window.innerWidth,window.innerHeight]),c=Object(n.a)(l,2),u=c[0],m=c[1],d=Object(i.useState)(1),f=Object(n.a)(d,2),h=f[0],p=f[1];return Object(i.useEffect)(function(){window.addEventListener("resize",function(){m([window.innerWidth,window.innerHeight])})},[]),Object(i.useEffect)(function(){p(Math.min(window.innerWidth/a[0],window.innerHeight/a[1]))},[u,a]),r.a.createElement("div",{style:{width:"100%",height:"100%",overflow:"hidden"}},r.a.createElement("iframe",{src:"#".concat(o.a.touchTable),style:{width:a[0],height:a[1],transform:"scale(".concat(h,")"),transformOrigin:"top left",overflow:"hidden",border:0,transition:"all 0.3s"}}),r.a.createElement("div",{style:{position:"absolute",zIndex:1,bottom:15,right:15,cursor:"pointer"},onClick:function(){s(function(e){return 3840===e[0]?[1920,1080]:[3840,2160]})}},"current monitor",r.a.createElement("br",null),"resolution:",r.a.createElement("br",null),"".concat(a[0]," x ").concat(a[1]," ")))}},35:function(e,t,a){"use strict";a.r(t);var n=a(3),i=a(1),r=a.n(i);t.default=function(e){var t=Object(i.useState)(30),a=Object(n.a)(t,2);a[0],a[1];return Object(i.useEffect)(function(){},[]),r.a.createElement("div",{ref:function(e){return e}},r.a.createElement("canvas",{ref:function(e){return e}}))}},36:function(e,t,a){"use strict";a.r(t);var n=a(3),i=a(1),r=a.n(i),o=a(54),s=a.n(o);a(79),a(80);t.default=function(e){var t=Object(i.useState)(null),a=Object(n.a)(t,2),o=a[0],l=a[1],c=Object(i.useState)([]),u=Object(n.a)(c,2),m=u[0],d=u[1],f=Object(i.useState)(null),h=Object(n.a)(f,2),p=h[0],v=h[1],g=Object(i.useState)({}),b=Object(n.a)(g,2),E=b[0],w=b[1],y=Object(i.useState)(""),C=Object(n.a)(y,2),S=C[0],x=C[1],O=Object(i.useState)("0,0,1,1"),j=Object(n.a)(O,2);j[0],j[1];Object(i.useEffect)(function(){var e=document.querySelector("html");return e.addEventListener("dragover",M),e.addEventListener("drop",T),function(){var e=document.querySelector("html");e.removeEventListener("dragover",M),e.removeEventListener("drop",T)}},[]);var M=function(e){e.preventDefault()},T=function(e){e.preventDefault(),e.stopPropagation();var t=null;if(e.dataTransfer.items)"file"===e.dataTransfer.items[0].kind&&(t=e.dataTransfer.items[0].getAsFile());else for(var a=0;a<e.dataTransfer.files.length;a++)t=e.dataTransfer.files[0];if("image/svg+xml"===t.type){var n=new FileReader;n.readAsBinaryString(t),n.onloadend=function(){x(n.result)},v(null),d([])}};Object(i.useEffect)(function(){if(o){var e=[],t=o.querySelectorAll("*");o.addEventListener("click",P);var a=!0,n=!1,i=void 0;try{for(var r,l=t[Symbol.iterator]();!(a=(r=l.next()).done);a=!0){var c=r.value;if(c.getBBox){c.addEventListener("click",R);var u=c.getBBox();c.style.transformOrigin="".concat(u.x+u.width/2,"px ").concat(u.y+u.height/2,"px");var f=s()(c,{root:o});c.data={selector:f},e.push({selector:f,element:c})}}}catch(h){n=!0,i=h}finally{try{a||null==l.return||l.return()}finally{if(n)throw i}}d(e)}return function(){o&&(o.removeEventListener("click",P),m.forEach(function(e){return e.element.removeEventListener("click",R)}),v(null),d([]))}},[o]);var P=function(e){e.stopPropagation(),v(null)},R=function(e){e.preventDefault(),e.stopPropagation(),v(e.currentTarget)};return Object(i.useEffect)(function(){if(o&&p){var e=s()(p,{root:o});p.classList.add("selected");for(var t=p.parentNode;t!==o&&t!==document.body;)t.classList.add("selected"),t=t.parentNode;o.classList.add("selecting");var a={selectorStr:e,transformOrigin:window.getComputedStyle(p).transformOrigin,x:p.getAttribute("x"),y:p.getAttribute("y"),width:p.getAttribute("width"),height:p.getAttribute("height"),animation:[]},n=p.querySelectorAll(":scope > animateTransform");Array.from(n).forEach(function(e){var t={calcMode:e.getAttribute("calcMode"),values:e.getAttribute("values"),keySplines:e.getAttribute("keySplines"),type:e.getAttribute("type"),repeatCount:e.getAttribute("repeatCount"),fill:e.getAttribute("fill"),dur:e.getAttribute("dur"),begin:e.getAttribute("begin")};a.animation.push(t)}),w(a)}else o&&(w({selectorStr:""}),o.classList.remove("selecting"));return function(){if(o&&p){p.classList.remove("selected");for(var e=p.parentNode;e!==o;)e.classList.remove("selected"),e=e.parentNode}}},[o,p]),Object(i.useEffect)(function(){S&&l(document.querySelector("#svgAnimator .svgWrapper svg"))},[S]),r.a.createElement("div",{id:"svgAnimator"},r.a.createElement("div",{className:"svgWrapper"},p&&E.selectorStr?r.a.createElement("div",{style:{border:"2px solid #F00",position:"absolute",top:p.getBoundingClientRect().y-2,left:p.getBoundingClientRect().x-2,width:p.getBoundingClientRect().width,height:p.getBoundingClientRect().height,pointerEvents:"none"}},r.a.createElement("div",{style:{position:"absolute",left:p.getBoundingClientRect().width/E.width*E.transformOrigin.split(" ")[0].replace("px",""),top:p.getBoundingClientRect().width/E.width*E.transformOrigin.split(" ")[1].replace("px","")}})):null,r.a.createElement("span",{dangerouslySetInnerHTML:{__html:S}})),r.a.createElement("div",{className:"editorWrapper"},r.a.createElement("div",{className:"svgElements"},r.a.createElement("select",{onChange:function(e){var t=m.find(function(t){return t.selector===e.currentTarget.value});t&&v(t.element)},value:p?p.data.selector:""},r.a.createElement("option",{value:""},"Click to select an element"),m.map(function(e,t){return r.a.createElement("option",{key:t,value:e.selector},e.element.tagName)}))),E.selectorStr&&r.a.createElement("div",{className:"svgAnimation"},r.a.createElement("div",{className:"custom-inputbox filled"},r.a.createElement("label",null,"unique selector"),r.a.createElement("input",{readOnly:!0,value:E.selectorStr})),r.a.createElement("div",{className:"custom-inputbox filled"},r.a.createElement("label",null,"transformOrigin"),r.a.createElement("input",{readOnly:!0,value:E.transformOrigin})),r.a.createElement("div",{className:"svgAnimations"},E.animation.map(function(e,t){return r.a.createElement("div",{className:"animation"},r.a.createElement("div",{className:"custom-inputbox filled"},r.a.createElement("label",null,"type"),r.a.createElement("input",{value:e.type})),r.a.createElement("div",{className:"custom-inputbox filled"},r.a.createElement("label",null,"timingMode"),r.a.createElement("input",{value:e.calcMode})),r.a.createElement("div",{className:"custom-inputbox filled"},r.a.createElement("label",null,"timingFunction"),r.a.createElement("input",{value:e.keySplines})),r.a.createElement("div",{className:"custom-inputbox filled"},r.a.createElement("label",null,"start"),r.a.createElement("input",{value:e.begin})),r.a.createElement("div",{className:"custom-inputbox filled"},r.a.createElement("label",null,"duration"),r.a.createElement("input",{value:e.dur})),r.a.createElement("div",{className:"custom-inputbox filled"},r.a.createElement("label",null,"repeatCount"),r.a.createElement("input",{value:e.repeatCount})),r.a.createElement("div",{className:"custom-inputbox filled"},r.a.createElement("label",null,"onComplete behaviour"),r.a.createElement("input",{value:e.fill})),r.a.createElement("div",{className:"custom-inputbox filled"},r.a.createElement("label",null,"animation values"),r.a.createElement("input",{value:e.values})),r.a.createElement("svg",{style:{width:100,height:200,overflow:"visible"},viewBox:"0 0 1 1"},r.a.createElement("rect",{x:"0",y:"0",width:"1",height:"1",fill:"none",stroke:"#DDD",vectorEffect:"non-scaling-stroke"}),r.a.createElement("path",{d:"m0,0 C".concat(e.keySplines," 1,1"),style:{stroke:"#000",fill:"none",strokeWidth:2,transformOrigin:"center",transform:"scaleY(-1)"},vectorEffect:"non-scaling-stroke"})),r.a.createElement("input",{readOnly:!0,value:e.keySplines}))})))))}},37:function(e,t,a){"use strict";a.r(t);var n=a(3),i=a(1),r=a.n(i),o=a(40),s=a.n(o),l=a(21),c=function(e){var t=Object(i.useState)(45),a=Object(n.a)(t,2),o=a[0],s=a[1],l=Object(i.useState)(0),c=Object(n.a)(l,2),u=c[0],m=c[1],d=Object(i.useState)(!1),f=Object(n.a)(d,2),h=f[0],p=f[1],v=[null,null,null],g=function(e){var t=e.alpha,a=e.beta,n=e.gamma;if(t&&a&&n){var i=Math.abs(t-v[0]),r=Math.abs(a-v[1]),s=Math.abs(n-v[2]);m(i+r+s>o?function(e){return e+1}:function(e){return Math.max(0,e-1)}),v=[t,a,n]}};Object(i.useEffect)(function(){return e.threshold&&s(e.threshold),function(){}},[e.threshold]),Object(i.useEffect)(function(){return h&&window.addEventListener("deviceorientation",g,!1),function(){window.removeEventListener("deviceorientation",g,!1)}},[h]),Object(i.useEffect)(function(){u>2&&(console.log("SHAKE!!!"),e.onShake&&"function"===typeof e.onShake&&e.onShake(),m(0))},[u,e]);return h?r.a.createElement(r.a.Fragment,null):r.a.createElement("div",{onClick:function(){DeviceOrientationEvent.requestPermission?DeviceOrientationEvent.requestPermission().then(function(e){"granted"==e&&p(!0)}).catch(console.error):p(!0)}},"Request Permission")};t.default=function(e){var t=Object.freeze({CONNECTING:0,IDLE:1,SHAKING:2,ENDGAME:3,INVALID:4}),a=Object(i.useState)(null),o=Object(n.a)(a,2),u=o[0],m=o[1],d=Object(i.useState)([]),f=Object(n.a)(d,2),h=(f[0],f[1],Object(i.useState)(t.CONNECTING)),p=Object(n.a)(h,2),v=p[0],g=p[1],b=null;Object(i.useEffect)(function(){var e="".concat(l.a,":").concat(l.b),t=s()(e);return m(t),function(){}},[]),Object(i.useEffect)(function(){u&&(u.on("connect",function(){console.log("connected !"),u.emit("joinRoom",e.match.match.params.userId)}),u.on("playerStatus",function(e){g(t[e.status])}),u.on("*",function(e){console.log(e)}))},[u]);var E=function(){u.emit("shake"),g(t.SHAKING),b&&clearTimeout(b),b=setTimeout(function(){g(t.IDLE)},1e3)};return r.a.createElement("div",null,function(){switch(v){case t.IDLE:case t.SHAKING:return r.a.createElement("div",{className:"status statusShaking"},r.a.createElement(c,{onShake:E}),"Keep Shaking");case t.INVALID:return r.a.createElement("div",{className:"status statusInvalid"},"Game not found, please scan the QR code again");case t.ENDGAME:return r.a.createElement("div",{className:"status statusGameend"},"Finished, thanks for playing.")}}())}},38:function(e,t,a){"use strict";a.r(t);var n=a(10),i=a(42),r=a(3),o=a(1),s=a.n(o),l=a(11),c=a(40),u=a.n(c),m=a(83),d=a.n(m),f=a(8),h=a(21);a(22),a(51),a(23),a(77),t.default=function(e){var t=Object(o.useState)(null),a=Object(r.a)(t,2),c=a[0],m=a[1],p=Object(o.useState)([]),v=Object(r.a)(p,2),g=v[0],b=v[1];Object(o.useEffect)(function(){var e="".concat(h.a,":").concat(h.b),t=u()(e);return m(t),function(){}},[]);return Object(o.useEffect)(function(){c&&(c.on("connect",function(){console.log("connected !"),c.emit("createRoom")}),c.on("playersInfo",function(e){for(var t=function(t){var a=t,r=e[a],o=window.location.origin+window.location.pathname+"#"+Object(l.f)(f.a.joinGame,{userId:r.playerId});d.a.toDataURL(o,{width:300,color:{dark:"#000000FF",light:"#FFFFFFFF"},margin:0}).then(function(e){b(function(t){var s=Object(i.a)(t);return s[a]=Object(n.a)({},r,{url:o,img:e}),s})})},a=0;a<e.length;a++)t(a)}),c.on("*",function(e){console.log(e)}),c.on("playerInfo",function(e){console.log(e)}))},[c]),s.a.createElement("div",{className:"page homePage"},s.a.createElement("div",{className:"qrcodeLayer"},g.map(function(e){return s.a.createElement("div",{key:e.url,className:"player-block ".concat(e.joined?"joined":"waiting")},s.a.createElement("div",{className:"playerCard waiting"},s.a.createElement("a",{href:e.url,target:"_blank",rel:"noopener noreferrer"},s.a.createElement("img",{src:e.img,alt:"player QRcode",className:"playerQrcode"}))),s.a.createElement("div",{className:"playerCard joined"},"JOINED",s.a.createElement("div",{className:"shakeCount"},s.a.createElement("big",null,e.shakeCount))))})))}},39:function(e,t,a){"use strict";a.r(t);var n=a(42),i=a(3),r=a(1),o=a.n(r),s=a(41),l=a(24),c=(a(163),function(e){var t=Object(r.useState)("event message"),a=Object(i.a)(t,2),n=(a[0],a[1],Object(r.useState)(1)),c=Object(i.a)(n,2),u=c[0],m=c[1],d=Object(r.useState)(0),f=Object(i.a)(d,2),h=f[0],p=f[1],v=Object(r.useState)(e.currentRotate||0),g=Object(i.a)(v,2),b=g[0],E=g[1],w=Object(r.useState)(e.currentRotate||0),y=Object(i.a)(w,2),C=y[0],S=y[1],x=Object(r.useState)(e.currentXY||[0,0]),O=Object(i.a)(x,2),j=O[0],M=O[1],T=Object(r.useState)(e.currentXY||[0,0]),P=Object(i.a)(T,2),R=P[0],N=P[1],D=Object(r.useRef)(!1);Object(r.useEffect)(function(){var e={scale:0};l.b.to(e,.4,{scale:1,ease:l.a.easeOut,onUpdate:function(){p(e.scale)},onComplete:function(){m(1)}})},[]);return o.a.createElement("div",{className:"touchTableInstance",style:{transform:"translate(".concat(j[0],"px,").concat(j[1],"px) rotate(").concat(C,"DEG) scale(").concat(h,")")}},o.a.createElement(s.a,{onPinch:function(e){var t=Math.min(Math.max(u*e.scale,1),2);p(t),M([R[0]+e.deltaX,R[1]+e.deltaY])},onPinchEnd:function(e){var t=Math.min(Math.max(u*e.scale,1),2);m(t)},onRotateStart:function(e){E(e.rotation-C)},onRotateMove:function(e){S(e.rotation-b)},onPanStart:function(e){e.target.classList.contains("noPanning")||e.target.offsetParent&&e.target.offsetParent.classList.contains("noPanning")?D.current=!1:D.current=!0},onPan:function(e){"pan"===e.type&&D.current&&M([R[0]+e.deltaX,R[1]+e.deltaY])},onPanEnd:function(e){D.current&&(D.current=!1,N([R[0]+e.deltaX,R[1]+e.deltaY]))},options:{recognizers:{pinch:{enable:!0},rotate:{enable:!0},pan:{threshold:1}}}},o.a.createElement("div",{style:{height:"100%"}},o.a.createElement("div",{className:"controlMenu"},o.a.createElement("div",{className:"rotateButton",onClick:function(){E(b+12.5),S(C+12.5)}},"O"),o.a.createElement("div",{className:"closeButton",onClick:function(){var t={scale:h};l.b.to(t,.2,{scale:0,ease:l.a.easeIn,onUpdate:function(){p(t.scale)},onComplete:function(){e.closeFunc()}})}},"X")),o.a.createElement("div",{className:"contentPanel noPanning"},o.a.createElement("div",{className:"categoryLayer1"},o.a.createElement("ul",{className:"categoryLayer1List"},o.a.createElement("li",{className:"categoryLayer1Item"},"K. Wah"),o.a.createElement("li",{className:"categoryLayer1Item"},"Dr. Lui Che Woo"),o.a.createElement("li",{className:"categoryLayer1Item"},"Lui Che Woo Prize"),o.a.createElement("li",{className:"categoryLayer1Item"},"Gallery"))),o.a.createElement("div",{className:"categoryLayer2"},o.a.createElement("ul",{className:"categoryLayer2List"},o.a.createElement("li",{className:"categoryLayer2Item"},"About K. Wah"),o.a.createElement("li",{className:"categoryLayer2Item"},"Properties"),o.a.createElement("li",{className:"categoryLayer2Item"},"Chairman & Founder"),o.a.createElement("li",{className:"categoryLayer2Item"},"CSR"),o.a.createElement("li",{className:"categoryLayer2Item"},"Achievement"),o.a.createElement("li",{className:"categoryLayer2Item"},"60 th Anniversary"),o.a.createElement("li",{className:"categoryLayer2Item"},"Global Presence"),o.a.createElement("li",{className:"categoryLayer2Item"},"Construction Materials"),o.a.createElement("li",{className:"categoryLayer2Item"},"Hospitality"),o.a.createElement("li",{className:"categoryLayer2Item"},"Entertainment & Leisure")))))))}),u=a(91),m=a.n(u);a(78),t.default=function(){var e=Object(r.useState)([]),t=Object(i.a)(e,2),a=t[0],l=t[1];Object(r.useEffect)(function(){var e=new Audio(m.a),t=function(){e.play()};return document.addEventListener("click",t),function(){document.removeEventListener("click",t)}},[]);var u=function(e){l(function(t){var a=t.indexOf(e);return t.slice(0,a).concat(t.slice(a+1))})};return o.a.createElement(s.a,{onPress:function(e){e.target.classList.contains("touchTableFrame")&&l(function(t){var a=e.target.offsetWidth,i=e.target.offsetHeight,r=0,s=Math.atan(16/9),l=Math.PI/2-s,m=e.center.x*Math.cos(s)-e.center.y*Math.sin(s),d=(a/2-e.center.x)*Math.sin(l)+(i/2-e.center.y)*Math.cos(l);r=m<0?d<0?0:90:d<0?-90:180;var f=640,h=360,p=e.center.x-f/2,v=e.center.y-h/2;if(90===Math.abs(r)){var g=[h,f];p<((f=g[0])-(h=g[1]))/2&&(p=(f-h)/2),p+(h+f)/2>a&&(p=a-(h+f)/2),v<(h-f)/2&&(v=(h-f)/2),v+(f+h)/2>i&&(v=i-(f+h)/2)}else p+f>a&&(p=a-f),p<0&&(p=0),v+h>i&&(v=i-h),v<0&&(v=0);var b=o.a.createElement(c,{key:Date.now(),closeFunc:function(){u(b)},currentXY:[p,v],currentRotate:r});return[].concat(Object(n.a)(t),[b])})}},o.a.createElement("div",{className:"touchTableFrame",onMouseMove:function(e){}},o.a.createElement("div",{className:"debugFrame rotation"}),o.a.createElement("div",{className:"debugFrame distance"}),a))}},51:function(e,t,a){"use strict";a.r(t);var n=a(3),i=a(1),r=a.n(i),o=a(0),s=a(75),l=function(e){var t=new s,a=null,n=[];return e.forEach(function(e,i){n.push(new Promise(function(n,r){setTimeout(function(){t.load(e,function(e){var t=(a=new o.AnimationMixer(e)).clipAction(e.animations[0]);t.loop=o.LoopOnce,t.clampWhenFinished=!0,e.traverse(function(e){e.isMesh&&(e.castShadow=!0,e.receiveShadow=!0)}),n({object:e,mixer:a,action:t})},function(e){console.log(e.loaded/e.total*100+"%")},function(e){console.log(e),r(e)})},1e3*i)}))}),Promise.all(n)};t.default=function(e){var t=Object(i.useState)([]),o=Object(n.a)(t,2),s=o[0],c=o[1],u=[a(30),a(30),a(30)];Object(i.useEffect)(function(){return m(),function(){}},[]);var m=function(){l(u).then(function(e){console.log(e),c(e)})};return r.a.createElement("div",{className:"page createGame"},"content of createGame models loaded: ",s.length)}},76:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){},8:function(e,t,a){"use strict";t.a={homePage:"/game",joinGame:"/game/:userId",fbxViewer:"/model",fbxViewerOfName:"/:fbxName",jsonViewerOfName:"/:jsonName",typhoonViewer:"/:fbxName",kitchenViewer:"/kitchenViewer",touchTable:"/touchTable",touchTableViewer:"/touchTableViewer",indexPage:"/index",animatingLines:"/animatingLines",svgAnimator:"/svgAnimator"}},80:function(e,t,a){},86:function(e,t,a){e.exports=a.p+"static/media/190715_CLP_game(8).3f43f4c2.fbx"},87:function(e,t,a){e.exports=a.p+"static/media/meat.5069922d.png"},88:function(e,t,a){e.exports=a.p+"static/media/mid_meat.6081577e.png"},89:function(e,t,a){e.exports=a.p+"static/media/welldone_meat.0da2595b.png"},91:function(e,t,a){e.exports=a.p+"static/media/click.826671b9.mp3"},92:function(e,t,a){e.exports=a(165)},97:function(e,t,a){}},[[92,1,2]]]);
//# sourceMappingURL=main.140f9981.chunk.js.map